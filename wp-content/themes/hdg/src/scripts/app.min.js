(()=>{class TextareaHandler{constructor(elem){document.querySelectorAll(elem).forEach(textarea=>{textarea.setAttribute("rows",4),this.update(textarea)})}isScrolling(textarea){return textarea.scrollHeight>textarea.clientHeight}grow(textarea){let clientHeight=textarea.clientHeight,rows=this.rows(textarea);for(;this.isScrolling(textarea);){rows++,textarea.rows=rows;var newClientHeight=textarea.clientHeight;if(newClientHeight===clientHeight)break;clientHeight=newClientHeight}}shrink(textarea){var clientHeight=textarea.clientHeight,minRows=parseInt(textarea.dataset.minRows);let rows=this.rows(textarea);for(;!this.isScrolling(textarea)&&rows>minRows&&(rows--,textarea.rows=Math.max(rows,minRows),textarea.clientHeight!==clientHeight);)if(this.isScrolling(textarea)){this.grow(textarea);break}}update(textarea){this.isScrolling(textarea)?this.grow(textarea):this.shrink(textarea)}rows(textarea){return textarea.rows||parseInt(textarea.dataset.minRows)}}class GradientHeight{constructor(){this.page=document.querySelector("#page"),this.gradient=document.querySelector("[data-gradient]"),this.init()}init(){this.setHeight(),this.watchResize()}setHeight(){this.gradient.style.height=this.page.offsetHeight+"px",document.body.classList.contains("admin-bar")&&(this.gradient.style.height=this.page.offsetHeight+32+"px")}watchResize(){window.addEventListener("resize",()=>{this.setHeight()})}}document.addEventListener("DOMContentLoaded",function(){(()=>{let externalLinks=document.querySelectorAll('a[rel="external"]');for(let i=0;i<externalLinks.length;i++)externalLinks[i].addEventListener("click",e=>{e.preventDefault(),window.open(externalLinks[i].href)})})(),(()=>{var links=document.querySelectorAll('.scroll[href^="#"]');for(let i=0;i<links.length;i++)links[i].addEventListener("click",function(e){e.preventDefault(),"#"!==this.getAttribute("href")&&(e=this.getAttribute("href"),document.querySelector(e).scrollIntoView({behavior:"smooth"}))})})(),(()=>{let header=document.querySelector(".hdg-masthead");if(header){let headerHeight=header.offsetHeight;header&&(new ResizeObserver(observedItems=>{var{}=observedItems[0]}).observe(header),window.addEventListener("scroll",function(e){window.scrollY>headerHeight?(header.classList.remove("is-static"),header.classList.add("is-scrolled")):(header.classList.add("is-static"),header.classList.remove("is-scrolled"))}))}})(),((button,elem,masthead)=>{let toggleButton=document.querySelector(button);if(toggleButton){let menu=document.querySelector(elem),header=document.querySelector(masthead);window.subscribers=[];let state=new Proxy({status:"closed",enabled:!1},{set(state,key,value){let oldState={...state};return state[key]=value,window.subscribers.forEach(callback=>callback(state,oldState)),state}});new ResizeObserver(observedItems=>{var contentRect=observedItems[0].contentRect;contentRect.width<=992?state.enabled=!0:state.enabled=!1,observedItems[0].target.setAttribute("data-enabled",state.enabled)}).observe(header),toggleButton.addEventListener("click",function(event){var open=JSON.parse(toggleButton.getAttribute("aria-expanded"));state.status=open?"closed":"open",toggleButton.setAttribute("aria-expanded",!open),menu.setAttribute("status",state.status),header.classList.toggle("masthead-is-open"),document.body.classList.toggle("nav-open"),document.documentElement.style.setProperty("--submenu-offset",menu.offsetHeight+header.offsetHeight+"px")}),window.addEventListener("keydown",function(event){event.key.includes("Escape")&&(toggleButton.setAttribute("aria-expanded","false"),header.classList.toggle("masthead-is-open"),document.body.classList.toggle("nav-open"),state.status="closed",menu.setAttribute("status",state.status),header)&&(header.classList.remove("masthead-is-open"),document.body.classList.remove("nav-open"))})}})("#nav-toggle","#nav-primary","#masthead"),(elem=>{elem=document.querySelectorAll(elem);elem&&Array.prototype.forEach.call(elem,function(card,i){card.addEventListener("click",function(event){var isTextSelected=window.getSelection().toString();isTextSelected||(window.location=card.dataset.url)})})})(".hdg-card"),new TextareaHandler("textarea"),new GradientHeight})})();